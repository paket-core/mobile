<?xml version="1.0" encoding="UTF-8"?>
<local:BasePage xmlns="http://xamarin.com/schemas/2014/forms" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" x:Class="PaketGlobal.PackageDetailsPage"
             xmlns:local="clr-namespace:PaketGlobal" xmlns:zxing="clr-namespace:ZXing.Net.Mobile.Forms;assembly=ZXing.Net.Mobile.Forms">
    <local:BasePage.Content>
        <TableView x:Name="contentPackage" HasUnevenRows="true" RowHeight="-1">
            <TableRoot>
                <TableSection Title="Information">
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Role" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding MyRole, Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Status" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding Status, Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Deadline" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding DeadlineDT, StringFormat='{0:MM.dd.yyyy}', Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Launched" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding SendTimeDT, StringFormat='{0:MM.dd.yyyy h:mm tt}', Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                </TableSection>
                <TableSection Title="Funds">
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Collateral" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding Collateral, StringFormat='{0}.00 BULs', Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                            <Label Text = "Payment" FontSize="13" TextColor="#808080"/>
                            <Label Text = "{Binding Payment, StringFormat='{0}.00 BULs', Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                        </StackLayout>
                    </ViewCell>
                </TableSection>
                <TableSection Title="Payment Info">
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="5">
                            <Label Text = "Use this barcode to pass the paket to a courier or accept it by the recepient" LineBreakMode="WordWrap" FontSize="13" TextColor="#808080"/>
                            <zxing:ZXingBarcodeImageView x:Name="barcodeImage" HorizontalOptions="FillAndExpand" HeightRequest="320"/>
                        </StackLayout>
                    </ViewCell>
                </TableSection>
                <TableSection Title="Events">
                    <ViewCell>
                        <StackLayout Orientation="Vertical" Spacing="0">
<!--                            <Label Text = "Events" FontSize="13" TextColor="#808080"/>-->
                            <ListView x:Name="eventsList" RowHeight="100" AbsoluteLayout.LayoutFlags="All" AbsoluteLayout.LayoutBounds="0, 0, 1.0, 1.0"
                                    ItemsSource="{Binding Events}" ItemSelected="EventItemSelected" IsPullToRefreshEnabled="false">
                                  <ListView.ItemTemplate>
                                     <DataTemplate>
                                        <ViewCell>
                                            <StackLayout Orientation="Vertical" Padding="15,8,15,5" Spacing="0">
                                                <Label Text="{Binding EventType, Mode=OneWay}" FontSize="17" TextColor="#000000"/>
                                                <Label Text="{Binding PaketUser, Mode=OneWay}" FontSize="13" TextColor="#808080"/>
                                                <Label Text="{Binding TimestampDT, StringFormat='{0:MM.dd.yyyy h:mm tt}', Mode=OneWay}" FontSize="13" TextColor="#808080"/>
                                                <Label Text="{Binding GPSString, StringFormat='Location: {0}', StringFormat='Sent: {0}' Mode=OneWay}" FontSize="13" TextColor="#808080"/>
                                            </StackLayout>
                                         </ViewCell>                    
                                    </DataTemplate>
                                 </ListView.ItemTemplate>
                            </ListView>
                        </StackLayout>
                    </ViewCell>
                </TableSection>
            </TableRoot>
        </TableView>
    </local:BasePage.Content>
</local:BasePage>
